
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../user_interfaces/">
      
      
        <link rel="next" href="../Code%20%26%20Services%20Location/TNGA%20Plant/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>Technical Stack - TIEI IIOT Project Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#technical-stack" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="TIEI IIOT Project Documentation" class="md-header__button md-logo" aria-label="TIEI IIOT Project Documentation" data-md-component="logo">
      
  <img src="../images/cmti_logo_full_white_no_border.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TIEI IIOT Project Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Technical Stack
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="TIEI IIOT Project Documentation" class="md-nav__button md-logo" aria-label="TIEI IIOT Project Documentation" data-md-component="logo">
      
  <img src="../images/cmti_logo_full_white_no_border.png" alt="logo">

    </a>
    TIEI IIOT Project Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_interfaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Interface
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Technical Stack
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Technical Stack
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collectors" class="md-nav__link">
    <span class="md-ellipsis">
      Collectors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anomaly-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Anomaly Detection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-count-monitor" class="md-nav__link">
    <span class="md-ellipsis">
      Part Count Monitor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abnormality-reports" class="md-nav__link">
    <span class="md-ellipsis">
      Abnormality Reports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database" class="md-nav__link">
    <span class="md-ellipsis">
      Database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#back-end" class="md-nav__link">
    <span class="md-ellipsis">
      Back End
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#front-end" class="md-nav__link">
    <span class="md-ellipsis">
      Front End
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Codes & Services Location
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Codes & Services Location
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Code%20%26%20Services%20Location/TNGA%20Plant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNGA Plant
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Code%20%26%20Services%20Location/GD%20Plant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GD Plant
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Code Explanation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Code Explanation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Code%20Explanation/Collector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collector Services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Code%20Explanation/Back%20End/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Back End Services
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Troubleshoot_Faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting & FAQ
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collectors" class="md-nav__link">
    <span class="md-ellipsis">
      Collectors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anomaly-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Anomaly Detection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-count-monitor" class="md-nav__link">
    <span class="md-ellipsis">
      Part Count Monitor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abnormality-reports" class="md-nav__link">
    <span class="md-ellipsis">
      Abnormality Reports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database" class="md-nav__link">
    <span class="md-ellipsis">
      Database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#back-end" class="md-nav__link">
    <span class="md-ellipsis">
      Back End
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#front-end" class="md-nav__link">
    <span class="md-ellipsis">
      Front End
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="technical-stack">Technical Stack</h1>
<h2 id="introduction">Introduction</h2>
<p>Based on the requirements and nature of the current system, the figure below shows the overall architecture of the proposed solution.</p>
<pre class="mermaid"><code>flowchart TB
  subgraph MACHINES
    direction TB
      subgraph CNC[General Purpose CNC]
      end
      subgraph lc[Laser Cladding]
      end
      subgraph jg[Journal Grinding]
      end
  end
  subgraph COLLECTOR
    direction TB
      subgraph MtC[MtLinki Collector]
      end
      subgraph lcc[Laser Cladding Collector]
      end
      subgraph jgc[Journal Grinding Collector]
      end
  end
  subgraph DATABASE
  end
  CNC --MONGODB--&gt;MtC
  lc --LOG FILES--&gt;lcc
  jg --LOG FILES--&gt;jgc
  COLLECTOR --&gt;DATABASE
  DATABASE --&gt;BACKEND
  BACKEND --&gt;FRONTEND
  DATABASE --&gt;sum[4/8 HOUR SUMMARY REPORTS]
  COLLECTOR --&gt;anomaly[ANOMALY DETECTION]
  anomaly --&gt;abnormal[ABNORMALITY REPORTS]
  COLLECTOR --&gt;part[PART COUNT MONITOR]
  part --&gt;abnormal
  part --&gt;DATABASE
  abnormal --&gt;email
  sum --&gt; email[EMAIL ALERTS]</code></pre>
<h2 id="implementation">Implementation</h2>
<p>All the requried services are developed using python script and deployed as linux daemon services.
There are two plants: TNGA and GDPlant. 
For the TNGA plant, the implementations are given below. The implementation for GDPlant is the same as TNGA, but it does not include SPM machines.</p>
<h3 id="collectors">Collectors</h3>
<ul>
<li>
<p><strong>MtLinki Collector</strong></p>
<ul>
<li>
<p><strong>Static Collector</strong> - This service collects all new data from the MtLinki mongodb database for the 16 static parameter group.</p>
</li>
<li>
<p><strong>Dynamic Collector</strong> - This service collects all new data from the MtLinki mongodb database for the 1 dynamic (servo and spindle load) parameter group.</p>
</li>
</ul>
</li>
<li>
<p><strong>Lasser Cladding Collector</strong> - This service collects data from the laser cladding machine from its log files.</p>
</li>
<li>
<p><strong>Journal Grinding Collector</strong> - This service collects all new data from the journal grinding machine from its log files.</p>
</li>
</ul>
<h3 id="anomaly-detection">Anomaly Detection</h3>
<p>The anomaly detection for cnc machines are implemeted as part of the collector services.</p>
<ul>
<li>
<p><strong>Static Parameters</strong> - The anomaly detection for the 16 parameter groups are part of the static collector service and it works by simply <mark class="critic">checking if the current value of the parameters are within the normal working range</mark>.</p>
</li>
<li>
<p><strong>Dynamic Parameters</strong> - The anomaly detection for the 1 parameter group (Servo and Spindle load) are part of the dynamic collector service and <mark class="critic">it works using Kruskal–Wallis one-way analysis of variance algorithm</mark>. This method compares the signal values for a new cycle with a reference signal, for any anomaly.</p>
</li>
</ul>
<h3 id="part-count-monitor">Part Count Monitor</h3>
<p>The machine part counts (for 59 cnc machines) are monitored from the parameter "para name". Once the reset button on the machine controller is pressed, the part count will be reset to zero. But to get a cumulative part count, we store the last part count value before the reset button was pressed, then whenever the part count is increased, the actual part count would be the part count before the press of reset button plus the current part count value. The formula for that is given below:</p>
<div class="arithmatex">\[
\operatorname{} P_{A} = P_{Current} + P_{Cumulative}        ....... 1
\]</div>
<p>Where,
P<sub>A</sub> --&gt; Actual Part Count</p>
<p>P<sub>Current</sub> --&gt; Current Part Count</p>
<p>P<sub>Cumulative</sub> --&gt; Cumulative Part Count Before Press of Reset Button</p>
<h3 id="abnormality-reports">Abnormality Reports</h3>
<p>Different abnormalities are generated as an excel report as soon as they are recorded, and stored in a common location (Where the email alerts service will be looking for new report), these files will be deleted as soon as they are sent as email alerts by the email alerts services. The following things will create an abnormality report:</p>
<ul>
<li>
<p><strong>Static Parameter Abnormality</strong> - This will be recorded by the static collector as soon as <mark class="critic">any parameter goes beyond it's normal working range</mark>. A sample report is shown below.</p>
</li>
<li>
<p><strong>Dynamic Parameter Abnormality</strong> - This will be recorded by the dynamic collector as soon as <mark class="critic">any set of parameters belonging to a specific cycle is not similar to it's reference signal</mark>. A sample report is shown below.</p>
</li>
<li>
<p><strong>Part Count Alert</strong> - This will be recorded by the part count monitor as soon as <mark class="critic">any component of a machine exceeded it's part count limit and needs to be replaced</mark>. A sample report is shown below.</p>
</li>
</ul>
<h3 id="database">Database</h3>
<p>From the requirements and nature of current system, we've choosen timescale db as the database to store all the data. The entity relationship diargrams of all the table of the database is shown below:</p>
<p><a class="glightbox" href="../images/toyota-erdiagram.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img align="center" alt="Entity Relationship Diagram" src="../images/toyota-erdiagram.png" /></a></p>
<p>The details of all the tables are given below:</p>
<ol>
<li>
<p><strong>Machine</strong> - This table will consist of data related to all the machines available at the new plant (including SPM machines). The details of its columns are given below:</p>
<ul>
<li>
<p><strong>id</strong></p>
<ul>
<li><strong>Description</strong>: The prime identifier for any row within this table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>name</strong></p>
<ul>
<li><strong>Description</strong>: The name of the machine.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>location</strong></p>
<ul>
<li><strong>Description</strong>: The location of the machine within the plant (crank, block, engine line).</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>machine_number</strong></p>
<ul>
<li><strong>Description</strong>: The number of the machine.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>short_name</strong></p>
<ul>
<li><strong>Description</strong>: A short name for the machine.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>description</strong></p>
<ul>
<li><strong>Description</strong>: A short description of the machine.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>enabled</strong></p>
<ul>
<li><strong>Description</strong>: Indicates if the machine is enabled or not.</li>
<li><strong>Type</strong>: Boolean</li>
</ul>
</li>
<li>
<p><strong>parameters</strong></p>
<ul>
<li><strong>Description</strong>: The total number of parameters this machine has.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Unit</strong> - This table will consist of data related to all the units of parameters of machines available at the new plant (including SPM machines). The details of its columns are given below:</p>
<ul>
<li>
<p><strong>id</strong></p>
<ul>
<li><strong>Description</strong>: The prime identifier for any row within this table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>name</strong></p>
<ul>
<li><strong>Description</strong>: The name of the unit for a machine parameter.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>short_name</strong></p>
<ul>
<li><strong>Description</strong>: A short name for the unit.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>description</strong></p>
<ul>
<li><strong>Description</strong>: A short description of the unit.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>type</strong></p>
<ul>
<li><strong>Description</strong>: To be addressed (TBA).</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>ParameterGroup</strong> - This table will consist of data related to all the groups of parameters (especially for the 59 CNC machines), such as APC battery, encoder temperature, etc. The details of its columns are given below:</p>
<ul>
<li>
<p><strong>id</strong></p>
<ul>
<li><strong>Description</strong>: The prime identifier for any row within this table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>group_name</strong></p>
<ul>
<li><strong>Description</strong>: The name of the parameter group.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>mongodb_query</strong></p>
<ul>
<li><strong>Description</strong>: The regex pattern used to wildcard only the parameter names (as available in the Fanuc MtLinki MongoDB) belonging to the parameter group. Used internally by the collector services to query parameters from different groups.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>latest_update_time</strong></p>
<ul>
<li><strong>Description</strong>: The latest time for which new data was available for the parameter group as a whole.</li>
<li><strong>Type</strong>: Float</li>
</ul>
</li>
<li>
<p><strong>warning_limit</strong></p>
<ul>
<li><strong>Description</strong>: The warning limit (only available for static parameters).</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>critical_limit</strong></p>
<ul>
<li><strong>Description</strong>: The critical limit (only available for static parameters).</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>parameter_type</strong></p>
<ul>
<li><strong>Description</strong>: Indicates if the parameter (applicable only for static parameters) is of type increasing or decreasing.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>MachineParameter</strong> - This table will consist of data related to all the parameters of machines available at the new plant (including SPM machines). The details of its columns are given below:</p>
<ul>
<li>
<p><strong>id</strong></p>
<ul>
<li><strong>Description</strong>: The prime identifier for any row within this table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>name</strong></p>
<ul>
<li><strong>Description</strong>: The name of the machine parameter.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>machine_id</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of Machines table, indicating the machine to which this parameter belongs.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>internal_parameter_name</strong></p>
<ul>
<li><strong>Description</strong>: The internal name of the parameter.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>display_name</strong></p>
<ul>
<li><strong>Description</strong>: The display name of the parameter.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>warning_limit</strong></p>
<ul>
<li><strong>Description</strong>: The warning limit (only available for static parameters).</li>
<li><strong>Type</strong>: Float</li>
</ul>
</li>
<li>
<p><strong>critical_limit</strong></p>
<ul>
<li><strong>Description</strong>: The critical limit (only available for static parameters).</li>
<li><strong>Type</strong>: Float</li>
</ul>
</li>
<li>
<p><strong>reference_signal</strong></p>
<ul>
<li><strong>Description</strong>: The reference signal that is considered as a good signal for this parameter (only available for dynamic parameters).</li>
<li><strong>Type</strong>: Array of Float</li>
</ul>
</li>
<li>
<p><strong>parameter_group_id</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id column of the ParameterGroup table, representing the parameter group to which this parameter belongs.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>unit</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id column of the Unit table, representing the unit this parameter has.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>parameter_type</strong></p>
<ul>
<li><strong>Description</strong>: Indicates if the parameter (applicable only for static parameters) is of type increasing or decreasing.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>User</strong> - This table will consist of data related to all users registered to access the web application. The details of its columns are given below:</p>
<ul>
<li>
<p><strong>id</strong></p>
<ul>
<li><strong>Description</strong>: The prime identifier for any row within this table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>username</strong></p>
<ul>
<li><strong>Description</strong>: The username of the user.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>email</strong></p>
<ul>
<li><strong>Description</strong>: The email id of the user.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>full_name</strong></p>
<ul>
<li><strong>Description</strong>: The full name of the user.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>disabled</strong></p>
<ul>
<li><strong>Description</strong>: A boolean variable used to check if the user is enabled or not.</li>
<li><strong>Type</strong>: Boolean</li>
</ul>
</li>
<li>
<p><strong>hashed_password</strong></p>
<ul>
<li><strong>Description</strong>: The hashed password of the user.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>role</strong></p>
<ul>
<li><strong>Description</strong>: The role of the user.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>company_id</strong></p>
<ul>
<li><strong>Description</strong>: The company id the user is associated with.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>SparePart</strong> - This table will consist of data related to all spare parts of all the machines. The details of its columns are given below:</p>
<ul>
<li>
<p><strong>id</strong></p>
<ul>
<li><strong>Description</strong>: The prime identifier for any row within this table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>part_name</strong></p>
<ul>
<li><strong>Description</strong>: The part name.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>referenc_part_number</strong></p>
<ul>
<li><strong>Description</strong>: The reference part number of the spare part.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>warning_limit</strong></p>
<ul>
<li><strong>Description</strong>: The warning part count limit.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>critical_limit</strong></p>
<ul>
<li><strong>Description</strong>: The critical part count limit.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>machine_id</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of Machines table, indicating the machine to which this spare part belongs.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>MachinePartCount</strong> - This table will consist of part count data of all the machines. The details of its columns are given below:</p>
<ul>
<li>
<p><strong>id</strong></p>
<ul>
<li><strong>Description</strong>: The prime identifier for any row within this table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>part_signal_name</strong></p>
<ul>
<li><strong>Description</strong>: The signal/parameter name which holds the part count for the machine (as stored in the MongoDB).</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>current_part_count</strong></p>
<ul>
<li><strong>Description</strong>: The current part count for the machine.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>last_reset_count</strong></p>
<ul>
<li><strong>Description</strong>: The part count of the machine just before the reset button was pressed, used to find the cumulative part count.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>machine_id</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of Machines table, indicating the machine to which this part count belongs.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>latest_update_time</strong></p>
<ul>
<li><strong>Description</strong>: The most recent timestamp during which the part count was updated (as stored in the MongoDB).</li>
<li><strong>Type</strong>: Datetime</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>ParameterCondition</strong> - This table will consist of data related to all conditions of a parameter, such as OK, warning, and critical. The details of its columns are given below:</p>
<ul>
<li>
<p><strong>id</strong></p>
<ul>
<li><strong>Description</strong>: The prime identifier for any row within this table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>name</strong></p>
<ul>
<li><strong>Description</strong>: The condition name.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Real_Time_Machine_Parameters</strong> - This table will consist of real-time data related to all machines. The details of its columns are given below:</p>
<ul>
<li>
<p><strong>time</strong></p>
<ul>
<li><strong>Description</strong>: The timestamp of the real-time data.</li>
<li><strong>Type</strong>: Datetime</li>
</ul>
</li>
<li>
<p><strong>value</strong></p>
<ul>
<li><strong>Description</strong>: The value of the parameter.</li>
<li><strong>Type</strong>: Float</li>
</ul>
</li>
<li>
<p><strong>parameter_condition_id</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of ParameterCondition table, indicating the condition to which this real-time machine parameter value belongs.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>machine_parameter_id</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of MachineParameter table, indicating the machine parameter to which this record of value belongs.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Real_Time_Machine_Parameters_Active</strong> - This table will consist of the most recent data related to all machines. The details of its columns are given below:</p>
<ul>
<li>
<p><strong>id</strong></p>
<ul>
<li><strong>Description</strong>: The prime identifier for any row within this table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>time</strong></p>
<ul>
<li><strong>Description</strong>: The timestamp of the real-time data.</li>
<li><strong>Type</strong>: Datetime</li>
</ul>
</li>
<li>
<p><strong>value</strong></p>
<ul>
<li><strong>Description</strong>: The value of the parameter.</li>
<li><strong>Type</strong>: Float</li>
</ul>
</li>
<li>
<p><strong>parameter_condition_id</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of ParameterCondition table, indicating the condition to which this real-time machine parameter value belongs.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>machine_parameter_id</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of MachineParameter table, indicating the machine parameter to which this record of value belongs.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Corrective_Activity</strong> - This table contains data related to corrective activities for machine parameters.</p>
<ul>
<li>
<p><strong>id</strong></p>
<ul>
<li><strong>Description</strong>: The prime identifier for any row within this table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>machine_parameter</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of MachineParameter table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>date_of_identification</strong></p>
<ul>
<li><strong>Description</strong>: The date when the issue was identified.</li>
<li><strong>Type</strong>: Datetime</li>
</ul>
</li>
<li>
<p><strong>latest_occurrence</strong></p>
<ul>
<li><strong>Description</strong>: The date of the latest occurrence of the issue.</li>
<li><strong>Type</strong>: Datetime</li>
</ul>
</li>
<li>
<p><strong>target_date_of_completion</strong></p>
<ul>
<li><strong>Description</strong>: The target date to complete the corrective action.</li>
<li><strong>Type</strong>: Datetime</li>
</ul>
</li>
<li>
<p><strong>recent_value</strong></p>
<ul>
<li><strong>Description</strong>: The most recent value of the parameter.</li>
<li><strong>Type</strong>: Float</li>
</ul>
</li>
<li>
<p><strong>number_of_occurrences</strong></p>
<ul>
<li><strong>Description</strong>: The number of times the issue has occurred.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>corrective_measurement</strong></p>
<ul>
<li><strong>Description</strong>: A description of the corrective measures taken in response to an identified issue or problem.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>spare_required</strong></p>
<ul>
<li><strong>Description</strong>: The spare parts required as part of the corrective action process.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>support_needed</strong></p>
<ul>
<li><strong>Description</strong>: The type of support or assistance required to address an issue or implement corrective measures effectively.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>priority</strong></p>
<ul>
<li><strong>Description</strong>: The priority level of the corrective action.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>parameter_condition</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of ParameterCondition table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>responsible_person</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of User table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Activities_History</strong> - This table contains historical data related to corrective activities for machine parameters.</p>
<ul>
<li>
<p><strong>date_of_identification</strong></p>
<ul>
<li><strong>Description</strong>: The date when the issue was identified.</li>
<li><strong>Type</strong>: Datetime</li>
</ul>
</li>
<li>
<p><strong>machine_parameter</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of MachineParameter table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>latest_occurrence</strong></p>
<ul>
<li><strong>Description</strong>: The date of the latest occurrence of the issue.</li>
<li><strong>Type</strong>: Datetime</li>
</ul>
</li>
<li>
<p><strong>target_date_of_completion</strong></p>
<ul>
<li><strong>Description</strong>: The target date to complete the corrective action.</li>
<li><strong>Type</strong>: Datetime</li>
</ul>
</li>
<li>
<p><strong>actual_date_of_completion</strong></p>
<ul>
<li><strong>Description</strong>: The actual date when the corrective action was completed.</li>
<li><strong>Type</strong>: Datetime</li>
</ul>
</li>
<li>
<p><strong>number_of_occurrences</strong></p>
<ul>
<li><strong>Description</strong>: The number of times the issue has occurred.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>corrective_measurement</strong></p>
<ul>
<li><strong>Description</strong>: A description of the corrective measures taken in response to an identified issue or problem.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>spare_required</strong></p>
<ul>
<li><strong>Description</strong>: The spare parts required as part of the corrective action process.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>support_needed</strong></p>
<ul>
<li><strong>Description</strong>: The type of support or assistance required to address an issue or implement corrective measures effectively.</li>
<li><strong>Type</strong>: String</li>
</ul>
</li>
<li>
<p><strong>recent_value</strong></p>
<ul>
<li><strong>Description</strong>: The most recent value of the parameter.</li>
<li><strong>Type</strong>: Float</li>
</ul>
</li>
<li>
<p><strong>parameter_condition</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of ParameterCondition table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
<li>
<p><strong>responsible_person</strong></p>
<ul>
<li><strong>Description</strong>: A foreign key referring to the id of User table.</li>
<li><strong>Type</strong>: Integer</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is the main table where the recent most value of parameters are stored by all the collector services, for all machines, such as cnc machines, laser cladding, journal grinding. This separate table allows us to optimize the performance while querying the recent most details about all machines, parameter groups, etc.</p>
</div>
</li>
</ol>
<h3 id="back-end">Back End</h3>
<p>The back end is developed with python and fastapi framework, and ponyorm. The structure of the backend and description of the files and folders are explained in detail in the <em>Code Explanation</em> section.</p>
<h3 id="front-end">Front End</h3>
<p>The front end is developed with html, css, javascript and react framework. The structure of the frontend and description of the files and folders are explained in detail in the <em>Code Explanation</em> section.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      For the Love of Manufacturing ❤️
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>